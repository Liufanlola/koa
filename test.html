<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>图书录入</title>
    <script src="https://cdn.bootcss.com/jquery/3.3.0/jquery.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>图书录入</h1>
        <div>
            <p>编号</p>
            <input type="text" name="id" class="book-id"><br>
            <p>书名</p>
            <input type="text" name="title" class="book-title"><br>
            <p>价格</p>
            <input type="text" name="price" class="book-price"><br>
            <p>作者</p>
            <input type="text" name="author" class="book-author"><br><br>
            <button>提交</button>
        </div>
    </div>
    <script>
    $(document).ready(function() {
        const bookId=$('.book-id')[0];
        const bookTitle=$('.book-title')[0];
        const bookPrice=$('.book-price')[0];
        const bookAuthor=$('.book-author')[0];
        const btn=$('button');
        btn.on('click',function(){
            console.log(1);
            let bookList={};
            bookList.id=bookId.value;
            bookList.title=bookTitle.value;
            bookList.price=bookPrice.value;
            bookList.author=bookAuthor.value;
            getAjax(bookList);
        })
        function getAjax(obj){
            $.ajax({
                type:'post',
                url:'http://localhost:3000/post',
                data:obj,
                success:function(data){
                    console.log(data);
                },
                error:function(){
                    console.log('error');
                }
            })
        }
    })
    </script>
</body>
</html>